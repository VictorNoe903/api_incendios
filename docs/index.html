<!-- ====================================================== -->
<!-- üìò DOCUMENTACI√ìN COMPLETA DE LA API NACIONAL DE INCENDIOS -->
<!-- ====================================================== -->

<div class="doc-section">
  <h3><i class="bi bi-book"></i> Documentaci√≥n T√©cnica y Uso de la API</h3>

  <p>
    La <b>API Nacional de Incendios Forestales</b> es una plataforma abierta desarrollada con <b>FastAPI (Python)</b> 
    y dise√±ada para facilitar la consulta, integraci√≥n y an√°lisis de informaci√≥n georreferenciada sobre incendios forestales
    en M√©xico, con datos hist√≥ricos desde <strong>2010</strong> hasta la actualidad.
  </p>

  <p>
    El sistema forma parte del <b>Modelo Predictivo de Incendios Forestales</b>, una iniciativa de investigaci√≥n aplicada 
    desarrollada por el <b>Ing. V√≠ctor No√© Mart√≠n Sierra</b> (Teziutl√°n, Puebla, M√©xico), orientada a la prevenci√≥n, an√°lisis de riesgo 
    y toma de decisiones ambientales mediante t√©cnicas de miner√≠a de datos y modelado predictivo.
  </p>

  <p>
    Esta API est√° implementada sobre un servidor <b>FastAPI</b> en un entorno Linux (Ubuntu 24.04 LTS) alojado en Hostinger VPS,
    con despliegue mediante <code>Gunicorn</code> + <code>Nginx</code> y certificado SSL <b>Let‚Äôs Encrypt</b> para comunicaci√≥n segura (<code>HTTPS</code>).
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Estructura de los Datos</h4>
  <pre>[
  {
    "a√±o": 2023,
    "entidad": "Puebla",
    "municipio": "Teziutl√°n",
    "causa": "Quema agr√≠cola",
    "superficie_ha": 14.8,
    "lon": -97.3723,
    "lat": 19.8145
  }
]</pre>
  <p>
    Cada registro representa un evento de incendio forestal georreferenciado, incluyendo su a√±o, ubicaci√≥n (entidad/municipio),
    causa identificada y superficie afectada.  
    Las coordenadas (<code>lat</code>, <code>lon</code>) est√°n expresadas en formato decimal compatible con el sistema geod√©sico WGS84 (EPSG:4326).
  </p>

  <h4 class="mt-4 text-danger">üîπ Endpoints Principales</h4>
  <ul>
    <li><code>/data/teziutlan.json</code> ‚Äî Dataset regional de Teziutl√°n, Puebla.</li>
    <li><code>/data/nacional.json</code> ‚Äî Dataset consolidado de todo M√©xico.</li>
    <li><code>/api/teziutlan</code> ‚Äî Endpoint din√°mico (JSON filtrable) implementado en FastAPI.</li>
    <li><code>/api/nacional</code> ‚Äî Endpoint din√°mico nacional con par√°metros de b√∫squeda.</li>
  </ul>

  <p>
    Todos los endpoints devuelven datos en formato <code>application/json</code> y est√°n optimizados para consumo
    desde aplicaciones web, m√≥viles, plataformas de an√°lisis (como Power BI, Tableau, Google Colab, RStudio)
    o sistemas cient√≠ficos basados en Python y R.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Par√°metros de Consulta Din√°mica (FastAPI)</h4>
  <p>
    Los endpoints <code>/api/teziutlan</code> y <code>/api/nacional</code> permiten aplicar filtros din√°micos mediante par√°metros GET:
  </p>

  <pre><code># Ejemplos de consultas v√°lidas:
https://api.helenashop.com.mx/api/nacional?entidad=Puebla
https://api.helenashop.com.mx/api/nacional?causa=Intencional
https://api.helenashop.com.mx/api/teziutlan?a√±o=2023
https://api.helenashop.com.mx/api/nacional?entidad=Veracruz&a√±o=2022
</code></pre>

  <p>
    Ejemplo de implementaci√≥n interna (Python / FastAPI):
  </p>

  <pre><code>from fastapi import FastAPI, Query
import json

app = FastAPI(title="API Nacional de Incendios Forestales")

with open("data/nacional.json", encoding="utf-8") as f:
    DATA_NACIONAL = json.load(f)

@app.get("/api/nacional")
def get_nacional(entidad: str | None = None, causa: str | None = None, a√±o: int | None = None):
    data = DATA_NACIONAL
    if entidad:
        data = [d for d in data if d["entidad"].lower() == entidad.lower()]
    if causa:
        data = [d for d in data if d["causa"].lower() == causa.lower()]
    if a√±o:
        data = [d for d in data if int(d["a√±o"]) == a√±o]
    return {"total": len(data), "resultados": data[:50]}  # L√≠mite de 50 resultados
</code></pre>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Ejemplos de Uso por Lenguaje</h4>

  <h5>üß† Python (An√°lisis en Google Colab / Jupyter)</h5>
  <pre><code>import requests, pandas as pd

url = "https://api.helenashop.com.mx/api/nacional?entidad=Puebla&a√±o=2023"
data = requests.get(url).json()

df = pd.DataFrame(data["resultados"])
print("Total:", data["total"])
df.head()</code></pre>

  <h5>üíª JavaScript (Frontend / Navegador)</h5>
  <pre><code>async function cargarIncendios() {
  const res = await fetch("https://api.helenashop.com.mx/api/nacional?causa=Intencional");
  const data = await res.json();
  console.log("Casos intencionales:", data.total);
}
cargarIncendios();</code></pre>

  <h5>‚öôÔ∏è PHP (Backend / Servidor Web)</h5>
  <pre><code>&lt;?php
$url = "https://api.helenashop.com.mx/api/nacional?entidad=Chiapas";
$json = file_get_contents($url);
$data = json_decode($json, true);
echo "Incendios en Chiapas: " . $data["total"];
?&gt;</code></pre>

  <h5>üìä R (An√°lisis Cient√≠fico)</h5>
  <pre><code>library(jsonlite)
library(ggplot2)

url <- "https://api.helenashop.com.mx/api/teziutlan?a√±o=2023"
data <- fromJSON(url)$resultados

ggplot(data, aes(x = causa)) +
  geom_bar(fill = "darkred") +
  theme_minimal() +
  labs(title = "Frecuencia de causas de incendios en Teziutl√°n (2023)",
       x = "Causa", y = "Frecuencia")</code></pre>

  <h5>üß© cURL (Terminal Linux / macOS)</h5>
  <pre><code>curl -X GET "https://api.helenashop.com.mx/api/nacional?entidad=Puebla" \
-H "Accept: application/json" \
-o incendios_puebla.json</code></pre>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Integraciones Avanzadas con FastAPI + Pandas</h4>
  <pre><code>from fastapi import FastAPI
import pandas as pd

app = FastAPI()

@app.get("/api/estadisticas")
def estadisticas():
    df = pd.read_json("https://api.helenashop.com.mx/data/nacional.json")
    resumen = (
        df.groupby("entidad")["superficie_ha"]
          .sum()
          .sort_values(ascending=False)
          .head(10)
    )
    return {"Top 10 entidades por superficie afectada": resumen.to_dict()}
</code></pre>

  <p>
    Esta ruta genera un resumen estad√≠stico din√°mico de los 10 estados con mayor superficie afectada por incendios,
    pudiendo integrarse f√°cilmente con dashboards o servicios anal√≠ticos.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Integraci√≥n con Plataformas GIS (QGIS / ArcGIS)</h4>
  <p>
    Los datasets pueden importarse directamente en <b>QGIS</b> o <b>ArcGIS</b> como <b>GeoJSON</b> mediante la URL de los endpoints.
    Esto permite superponer capas de incendios sobre mapas base, realizar an√°lisis espaciales, y generar mapas de calor
    o series temporales geogr√°ficas.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Buenas Pr√°cticas y Licencia</h4>
  <ul>
    <li>Uso con fines acad√©micos, ambientales y de investigaci√≥n.</li>
    <li>No se recomienda realizar peticiones masivas sin intervalos.</li>
    <li>En publicaciones o reportes cite: <b>API Nacional de Incendios Forestales (Ing. V√≠ctor No√© Mart√≠n Sierra, 2025)</b>.</li>
  </ul>

  <p class="mt-4">
    <i class="bi bi-calendar3"></i> <b>√öltima actualizaci√≥n:</b> Noviembre 2025 ‚Äî  
    API en constante mejora con nuevas funcionalidades anal√≠ticas, filtros avanzados y estad√≠sticas regionales.
  </p>
</div>
