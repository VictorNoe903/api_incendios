<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üî• API de Incendios Forestales</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background: #0b0b0b;
      color: #f2f2f2;
      font-family: "Segoe UI", sans-serif;
    }

    header {
      background: linear-gradient(90deg, #ff3c3c, #a30000);
      padding: 60px 0;
      text-align: center;
      color: #fff;
      box-shadow: 0 0 25px #ff3c3c66;
    }

    header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    header p {
      font-size: 1.1rem;
      color: #fff8f8;
    }

    h2, h3 {
      color: #ff3c3c;
      text-align: center;
    }

    p {
      color: #ddd;
    }

    .card {
      background: #151515;
      border: 1px solid #ff3c3c55;
      box-shadow: 0 0 20px #ff3c3c22;
      border-radius: 1rem;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .card:hover {
      transform: scale(1.03);
      box-shadow: 0 0 25px #ff3c3c88;
    }

    .btn-danger {
      background: #ff3c3c;
      border: none;
      border-radius: 30px;
      font-weight: 600;
      transition: background 0.3s;
    }

    .btn-danger:hover {
      background: #ff5656;
    }

    .card h5 {
      color: #ffffff;
      font-weight: 800;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      text-shadow: 0 0 8px #ff3c3c55;
    }

    .card p {
      color: #f2f2f2;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .doc-section {
      background: #141414;
      border: 1px solid #ff3c3c33;
      border-radius: 1rem;
      padding: 40px;
      margin-top: 60px;
      box-shadow: 0 0 20px #ff3c3c11;
    }

    .doc-section h3 {
      color: #ff3c3c;
      margin-bottom: 25px;
      text-align: center;
    }

    code {
      background: #222;
      color: #00ff88;
      padding: 4px 7px;
      border-radius: 5px;
    }

    pre {
      background: #0f0f0f;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 15px;
      color: #00ff88;
      font-size: 0.9rem;
      overflow-x: auto;
    }

    pre.demo {
      height: 300px;
      white-space: pre-wrap;
      box-shadow: 0 0 15px #00ff8844;
    }

    footer {
      text-align: center;
      margin-top: 70px;
      padding: 20px;
      color: #aaa;
      font-size: 0.9rem;
      border-top: 1px solid #222;
    }

    .loading {
      color: #ff3c3c;
      font-style: italic;
    }
  </style>
</head>

<body>
  <header>
    <h1>üî• API de Incendios Forestales</h1>
    <p>Datos oficiales para an√°lisis predictivo y prevenci√≥n de incendios forestales</p>
  </header>

  <div class="container my-5">

    <section id="proyecto" class="text-center mb-5">
      <h2><i class="bi bi-compass"></i> Enfoque del Proyecto</h2>
     <p class="col-md-10 mx-auto mt-3">
  Esta API forma parte del <strong>Modelo Predictivo de Incendios Forestales</strong>, una iniciativa de car√°cter cient√≠fico-tecnol√≥gico, orientada al monitoreo, an√°lisis y prevenci√≥n de incendios en la regi√≥n de 
  <strong>Teziutl√°n, Puebla</strong>, con escalabilidad para su aplicaci√≥n a otros sistemas e integraciones en diferentes zonas.
  <br><br>
  El proyecto integra fuentes de datos ambientales, geoespaciales y meteorol√≥gicas para generar informaci√≥n hist√≥rica y predictiva, 
  fomentando la toma de decisiones informadas, la protecci√≥n de los ecosistemas y la seguridad de la poblaci√≥n.
  <br><br>
  Se trata de un desarrollo en constante actualizaci√≥n y mejora continua, respaldado por un <strong>repositorio oficial</strong> 
  que documenta versiones, avances y contribuciones abiertas para el fortalecimiento de la investigaci√≥n aplicada 
  en sistemas de predicci√≥n de riesgos forestales.
  <br>
  <br>
  Este trabajo tiene como prop√≥sito contribuir al desarrollo de herramientas tecnol√≥gicas de libre acceso 
  que apoyen el <strong>salvaguardo ambiental, la gesti√≥n preventiva de incendios forestales y la resiliencia social</strong>, 
  promoviendo la cooperaci√≥n entre instituciones, investigadores y comunidades locales en pro del bienestar regional y nacional.
</p>
<br>
  <strong>Autor:</strong> Ing. V√≠ctor No√© Mart√≠n Sierra  
  <strong>Contacto:</strong> 233 101 9527 ¬∑ 
  <strong>Correo:</strong> <a href="mailto:v33119521n@gmail.com" class="text-decoration-none text-danger">v33119521n@gmail.com</a>  

    </section>

    <div class="row justify-content-center g-4 mb-5">
      <div class="col-md-5">
        <div class="card text-center p-4">
          <h5>üåÑ Teziutl√°n</h5>
          <p>Datos regionales espec√≠ficos de la zona de Teziutl√°n (Puebla).</p>
          <a href="/docs/visor.html?view=teziutlan" class="btn btn-danger mt-2">Ver JSON</a>
        </div>
      </div>
      <div class="col-md-5">
        <div class="card text-center p-4">
          <h5>üá≤üáΩ Nacional</h5>
          <p>Datos consolidados de incendios forestales a nivel nacional.</p>
          <a href="/docs/visor.html?view=nacional" class="btn btn-danger mt-2">Ver JSON</a>
        </div>
      </div>
    </div>

   <!-- ====================================================== -->
<!-- üìò DOCUMENTACI√ìN COMPLETA DE LA API NACIONAL DE INCENDIOS -->
<!-- ====================================================== -->

<div class="doc-section">
  <h3><i class="bi bi-book"></i> Documentaci√≥n T√©cnica y Uso de la API</h3>

  <p>
    La <b>API Nacional de Incendios Forestales</b> es una plataforma abierta desarrollada con <b>FastAPI (Python)</b> 
    y dise√±ada para facilitar la consulta, integraci√≥n y an√°lisis de informaci√≥n georreferenciada sobre incendios forestales
    en M√©xico, con datos hist√≥ricos desde <strong>2010</strong> hasta la actualidad.
  </p>

  <p>
    El sistema forma parte del <b>Modelo Predictivo de Incendios Forestales</b>, una iniciativa de investigaci√≥n aplicada 
    desarrollada por el <b>Ing. V√≠ctor No√© Mart√≠n Sierra</b> (Teziutl√°n, Puebla, M√©xico), orientada a la prevenci√≥n, an√°lisis de riesgo 
    y toma de decisiones ambientales mediante t√©cnicas de miner√≠a de datos y modelado predictivo.
  </p>

  <p>
    Esta API est√° implementada sobre un servidor <b>FastAPI</b> en un entorno Linux (Ubuntu 24.04 LTS) alojado en Hostinger VPS,
    con despliegue mediante <code>Gunicorn</code> + <code>Nginx</code> y certificado SSL <b>Let‚Äôs Encrypt</b> para comunicaci√≥n segura (<code>HTTPS</code>).
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Estructura de los Datos</h4>
  <pre>[
  {
    "a√±o": 2023,
    "entidad": "Puebla",
    "municipio": "Teziutl√°n",
    "causa": "Quema agr√≠cola",
    "superficie_ha": 14.8,
    "lon": -97.3723,
    "lat": 19.8145
  }
]</pre>
  <p>
    Cada registro representa un evento de incendio forestal georreferenciado, incluyendo su a√±o, ubicaci√≥n (entidad/municipio),
    causa identificada y superficie afectada.  
    Las coordenadas (<code>lat</code>, <code>lon</code>) est√°n expresadas en formato decimal compatible con el sistema geod√©sico WGS84 (EPSG:4326).
  </p>

  <h4 class="mt-4 text-danger">üîπ Endpoints Principales</h4>
  <ul>
    <li><code>/data/teziutlan.json</code> ‚Äî Dataset regional de Teziutl√°n, Puebla.</li>
    <li><code>/data/nacional.json</code> ‚Äî Dataset consolidado de todo M√©xico.</li>
    <li><code>/api/teziutlan</code> ‚Äî Endpoint din√°mico (JSON filtrable) implementado en FastAPI.</li>
    <li><code>/api/nacional</code> ‚Äî Endpoint din√°mico nacional con par√°metros de b√∫squeda.</li>
  </ul>

  <p>
    Todos los endpoints devuelven datos en formato <code>application/json</code> y est√°n optimizados para consumo
    desde aplicaciones web, m√≥viles, plataformas de an√°lisis (como Power BI, Tableau, Google Colab, RStudio)
    o sistemas cient√≠ficos basados en Python y R.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Par√°metros de Consulta Din√°mica (FastAPI)</h4>
  <p>
    Los endpoints <code>/api/teziutlan</code> y <code>/api/nacional</code> permiten aplicar filtros din√°micos mediante par√°metros GET:
  </p>

  <pre><code># Ejemplos de consultas v√°lidas:
https://api.helenashop.com.mx/api/nacional?entidad=Puebla
https://api.helenashop.com.mx/api/nacional?causa=Intencional
https://api.helenashop.com.mx/api/teziutlan?a√±o=2023
https://api.helenashop.com.mx/api/nacional?entidad=Veracruz&a√±o=2022
</code></pre>

  <p>
    Ejemplo de implementaci√≥n interna (Python / FastAPI):
  </p>

  <pre><code>from fastapi import FastAPI, Query
import json

app = FastAPI(title="API Nacional de Incendios Forestales")

with open("data/nacional.json", encoding="utf-8") as f:
    DATA_NACIONAL = json.load(f)

@app.get("/api/nacional")
def get_nacional(entidad: str | None = None, causa: str | None = None, a√±o: int | None = None):
    data = DATA_NACIONAL
    if entidad:
        data = [d for d in data if d["entidad"].lower() == entidad.lower()]
    if causa:
        data = [d for d in data if d["causa"].lower() == causa.lower()]
    if a√±o:
        data = [d for d in data if int(d["a√±o"]) == a√±o]
    return {"total": len(data), "resultados": data[:50]}  # L√≠mite de 50 resultados
</code></pre>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Ejemplos de Uso por Lenguaje</h4>

  <h5>üß† Python (An√°lisis en Google Colab / Jupyter)</h5>
  <pre><code>import requests, pandas as pd

url = "https://api.helenashop.com.mx/api/nacional?entidad=Puebla&a√±o=2023"
data = requests.get(url).json()

df = pd.DataFrame(data["resultados"])
print("Total:", data["total"])
df.head()</code></pre>

  <h5>üíª JavaScript (Frontend / Navegador)</h5>
  <pre><code>async function cargarIncendios() {
  const res = await fetch("https://api.helenashop.com.mx/api/nacional?causa=Intencional");
  const data = await res.json();
  console.log("Casos intencionales:", data.total);
}
cargarIncendios();</code></pre>

  <h5>‚öôÔ∏è PHP (Backend / Servidor Web)</h5>
  <pre><code>&lt;?php
$url = "https://api.helenashop.com.mx/api/nacional?entidad=Chiapas";
$json = file_get_contents($url);
$data = json_decode($json, true);
echo "Incendios en Chiapas: " . $data["total"];
?&gt;</code></pre>

  <h5>üìä R (An√°lisis Cient√≠fico)</h5>
  <pre><code>library(jsonlite)
library(ggplot2)

url <- "https://api.helenashop.com.mx/api/teziutlan?a√±o=2023"
data <- fromJSON(url)$resultados

ggplot(data, aes(x = causa)) +
  geom_bar(fill = "darkred") +
  theme_minimal() +
  labs(title = "Frecuencia de causas de incendios en Teziutl√°n (2023)",
       x = "Causa", y = "Frecuencia")</code></pre>

  <h5>üß© cURL (Terminal Linux / macOS)</h5>
  <pre><code>curl -X GET "https://api.helenashop.com.mx/api/nacional?entidad=Puebla" \
-H "Accept: application/json" \
-o incendios_puebla.json</code></pre>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Integraciones Avanzadas con FastAPI + Pandas</h4>
  <pre><code>from fastapi import FastAPI
import pandas as pd

app = FastAPI()

@app.get("/api/estadisticas")
def estadisticas():
    df = pd.read_json("https://api.helenashop.com.mx/data/nacional.json")
    resumen = (
        df.groupby("entidad")["superficie_ha"]
          .sum()
          .sort_values(ascending=False)
          .head(10)
    )
    return {"Top 10 entidades por superficie afectada": resumen.to_dict()}
</code></pre>

  <p>
    Esta ruta genera un resumen estad√≠stico din√°mico de los 10 estados con mayor superficie afectada por incendios,
    pudiendo integrarse f√°cilmente con dashboards o servicios anal√≠ticos.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Integraci√≥n con Plataformas GIS (QGIS / ArcGIS)</h4>
  <p>
    Los datasets pueden importarse directamente en <b>QGIS</b> o <b>ArcGIS</b> como <b>GeoJSON</b> mediante la URL de los endpoints.
    Esto permite superponer capas de incendios sobre mapas base, realizar an√°lisis espaciales, y generar mapas de calor
    o series temporales geogr√°ficas.
  </p>

  <hr>

  <h4 class="mt-4 text-danger">üîπ Buenas Pr√°cticas y Licencia</h4>
  <ul>
    <li>Uso con fines acad√©micos, ambientales y de investigaci√≥n.</li>
    <li>No se recomienda realizar peticiones masivas sin intervalos.</li>
    <li>En publicaciones o reportes cite: <b>API Nacional de Incendios Forestales (Ing. V√≠ctor No√© Mart√≠n Sierra, 2025)</b>.</li>
  </ul>

  <p class="mt-4">
    <i class="bi bi-calendar3"></i> <b>√öltima actualizaci√≥n:</b> Noviembre 2025 ‚Äî  
    API en constante mejora con nuevas funcionalidades anal√≠ticas, filtros avanzados y estad√≠sticas regionales.
  </p>
</div>


    <!-- DEMO INTERACTIVO -->
    <div class="text-center mb-4 mt-5">
      <h3><i class="bi bi-lightbulb"></i> Demostraci√≥n Interactiva</h3>
      <p class="text-secondary">Visualizaci√≥n din√°mica recorriendo el dataset de Teziutl√°n.</p>
    </div>

    <div class="row justify-content-center align-items-center">
      <div class="col-md-7">
        <pre id="json-demo" class="demo">Inicializando demostraci√≥n...</pre>
      </div>
      <div class="col-md-3 text-center mt-3 mt-md-0">
        <button id="refreshBtn" class="btn btn-outline-light px-4 py-2">
          <i class="bi bi-arrow-repeat"></i> Actualizar Demo
        </button>
        <p id="status" class="loading mt-3"></p>
      </div>
    </div>

  </div>

  <footer>
    ¬© 2025 Sistema Predictivo de Incendios .<strong>DERECHOS DE AUTOR</strong>
  </footer>

  <script>
    let data = [];
    let index = 0;
    let interval;

    async function cargarDemo() {
      const demo = document.getElementById("json-demo");
      const status = document.getElementById("status");
      demo.textContent = "Cargando datos...";
      status.textContent = "‚è≥ Conectando con dataset de Teziutl√°n...";

      clearInterval(interval);

      try {
        const resp = await fetch("https://api.helenashop.com.mx/data/teziutlan.json");
        if (!resp.ok) throw new Error("Error al obtener el JSON.");
        data = await resp.json();

        status.textContent = "‚úÖ Datos cargados correctamente. Reproduciendo demo...";
        index = 0;
        reproducirDemo();

      } catch (err) {
        demo.textContent = "‚ö†Ô∏è No se pudo cargar el demo.";
        status.textContent = "Error al cargar datos.";
      }
    }

    function reproducirDemo() {
      const demo = document.getElementById("json-demo");
      clearInterval(interval);

      interval = setInterval(() => {
        if (!data.length) return;
        const registro = data[index];
        const texto = JSON.stringify(registro, null, 2);
        demo.textContent = texto;
        index = (index + 1) % data.length;
      }, 2000);
    }

    document.getElementById("refreshBtn").addEventListener("click", cargarDemo);
    window.onload = cargarDemo;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
